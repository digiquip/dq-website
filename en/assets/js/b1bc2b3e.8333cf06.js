"use strict";(self.webpackChunkdq_website=self.webpackChunkdq_website||[]).push([[5],{5409:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"technical/registry/organizations","title":"Organizations","description":"Organizations in the registry can be any of the following types:","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/technical/registry/organizations.md","sourceDirName":"technical/registry","slug":"/technical/registry/organizations","permalink":"/en/docs/technical/registry/organizations","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"External Identifiers","permalink":"/en/docs/technical/registry/identifiers"},"next":{"title":"Asset Types and Assets","permalink":"/en/docs/technical/registry/asset_types_and_assets"}}');var s=t(4848),r=t(8453);const o={sidebar_position:4},l="Organizations",a={},d=[{value:"People in Organizations",id:"people-in-organizations",level:4},{value:"Example: Inspection Company with inspector (Person)",id:"example-inspection-company-with-inspector-person",level:2},{value:"Creating the Organization",id:"creating-the-organization",level:3},{value:"Creating the Person",id:"creating-the-person",level:3},{value:"Linking the Person to the Organization",id:"linking-the-person-to-the-organization",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"organizations",children:"Organizations"})}),"\n",(0,s.jsx)(n.p,{children:"Organizations in the registry can be any of the following types:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Private Company"}),"\n",(0,s.jsx)(n.li,{children:"Public Company (Publicly Traded)"}),"\n",(0,s.jsx)(n.li,{children:"Non-Profit Organization"}),"\n",(0,s.jsx)(n.li,{children:"Governmental Organization"}),"\n",(0,s.jsx)(n.li,{children:"Unclassified"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"An organization in the Registry can contain the following information:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Content"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Field Name"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Mandatory"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Name of the Organization"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"name"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"YES"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The name of the organization"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Registration Number"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"registration_number"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"YES"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The registration number of the company issued by the country of origin"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Organization Type"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"organization_type"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"YES"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The type of organization mentioned above"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Tax Identification Number or VAT"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"tax_registration_number"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"NO"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The tax or VAT Number of the company issued by the country of origin"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Country"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"country"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"NO"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The country where the company is registered"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Logto Identification"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"logto_id"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"NO"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"This is for internal purposes only, please disregard and avoid including data in this field"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Please refer to the Swagger documentation for more specific information:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["For testing: ",(0,s.jsx)(n.a,{href:"https://test-registry.kvipp.io/organizaton",children:"https://test-registry.kvipp.io/organizaton"})," (",(0,s.jsx)(n.a,{href:"https://test-registry.kvipp.io/docs#/organizations",children:"Swagger documentation at /docs/organizations"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Live: ",(0,s.jsx)(n.a,{href:"https://registry.kvipp.io/organizaton",children:"https://registry.kvipp.io/organizaton"})," ( ",(0,s.jsx)(n.a,{href:"https://registry.kvipp.io/docs#/organizations",children:"Swagger documentation at /docs/organizations"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Before creating an organization via a POST request, please ensure that the organization doesn't already exist in the database."}),"\n",(0,s.jsx)(n.h4,{id:"people-in-organizations",children:"People in Organizations"}),"\n",(0,s.jsxs)(n.p,{children:["In the registry people can be associated with an organization. A person is created in the registry in the ",(0,s.jsx)(n.strong,{children:"people"})," controller. Once created that person can then be linked to an organization by following the path ",(0,s.jsx)(n.code,{children:"/people/{person_id}/organizations/{organization_id}"}),". The endpoints available URL path will allow you to link an already created person and organization together by ",(0,s.jsx)(n.code,{children:"relation_type"}),". See the Swagger docs for more."]}),"\n",(0,s.jsx)(n.h2,{id:"example-inspection-company-with-inspector-person",children:"Example: Inspection Company with inspector (Person)"}),"\n",(0,s.jsxs)(n.p,{children:["Let us assume that an external company called ",(0,s.jsx)(n.strong,{children:"Inspections R'Us"})," has an\ninspector called ",(0,s.jsx)(n.strong,{children:"John Doe"}),". To add this information the following steps must\nbe performed:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#creating-the-organization",children:"Create the organization for the inspection company"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#creating-the-person",children:"Create the person for the inspector"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#linking-the-person-to-the-organization",children:"Link the person to the organization"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For this example let us assume that we have the following information:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Inspection Company Information"}),":"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Content"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Company Name"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Inspections R'Us"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Registration Number"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"123456785"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Tax Identification Number/VAT"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"NO123456785MVA"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Organization Type"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Private Company"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Country of Registration"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Norway"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Person Information"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Content"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Inspector Name"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"John Doe"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Inspector Date of Birth"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"21st of November, 1970"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Inspector Nationality"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Norwegian"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-organization",children:"Creating the Organization"}),"\n",(0,s.jsxs)(n.p,{children:["The endpoint calling ",(0,s.jsx)(n.code,{children:"GET /organizations/"})," will produce the list of organization already in the database. Alternatively, there is a ",(0,s.jsx)(n.code,{children:"POST /organization/find/"})," endpoint that will allow you to search for the organization by inputing the ",(0,s.jsx)(n.code,{children:"registration_number"})," and the ",(0,s.jsx)(n.code,{children:"country"}),". If you cannot find one for the inspection company then it should be created. This can be done with the ",(0,s.jsx)(n.code,{children:"POST /organizations/"})," with the following request body. Please see the Swagger Schema for what are required fields."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-JSON",children:'{\n  "name": "Inspections R\'Us",\n  "registration_number": "123456785",\n  "tax_identification_number": "NO123456785MVA",\n  "organization_type": "private",\n  "country": "no",\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Once the organization is created, make note to store the ",(0,s.jsx)(n.code,{children:"id"})," of the organization in Registry."]}),"\n",(0,s.jsx)(n.p,{children:"For this example let's assume that the organization recieved the following UUID ID, seen in the response body:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-JSON",children:'{\n  "id": "8c35f400-171a-4928-8fa3-4c647497df27",\n  "name": "Inspections R\'Us",\n  "registration_number": "123456785",\n  "tax_identification_number": "NO123456785MVA",\n  "organization_type": "private",\n  "country": "no",\n  ...\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-person",children:"Creating the Person"}),"\n",(0,s.jsxs)(n.p,{children:["The person might already exist in the database. To check this the ",(0,s.jsx)(n.code,{children:"GET /people/"})," endpoint can either be called and the output can be searched to find the person. Alternatively, the ",(0,s.jsx)(n.code,{children:"POST /people/find/"})," endpoint can be used by searching with the following information:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"first_name"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"last_name"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"date_of_birth"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For conveinence there is a boolean query parameter on this endpoint called ",(0,s.jsx)(n.code,{children:"create"})," that will create the person if it does not exist in the database."]}),"\n",(0,s.jsxs)(n.p,{children:["Thus, to find or create the person in the database then the ",(0,s.jsx)(n.code,{children:"POST /people/find?create=true"})," person can create the person with the following request:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-JSON",children:'{\n  "first_name": "John",\n  "last_name": "Doe",\n  "date_of_birth": "1970-11-21",\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Once the person is created, make note to store the ",(0,s.jsx)(n.code,{children:"id"})," of the person in Registry.\nFor this example, let us assume that the person has the following UUID ID:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-JSON",children:'{\n  "id": "123e4567-e89b-12d3-a456-426614174000",\n  "first_name": "John",\n  "last_name": "Doe",\n  "date_of_birth": "1970-11-21",\n  ...\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"linking-the-person-to-the-organization",children:"Linking the Person to the Organization"}),"\n",(0,s.jsxs)(n.p,{children:["The person can be linked to the organization by calling the ",(0,s.jsx)(n.code,{children:"POST /people/{person_id}/organizations/{organization_id}"})," endpoint. There is a\nrequired query parameter called ",(0,s.jsx)(n.code,{children:"relation_type"})," that indicates the relation of\nthe person to the organization. Please see the Swagger Schema for possible relation types."]}),"\n",(0,s.jsx)(n.p,{children:"For this example, the person is an employee of the organization. Thus, the\nrequest would look like the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-HTTP",children:"POST /people/123e4567-e89b-12d3-a456-426614174000/organizations/8c35f400-171a-4928-8fa3-4c647497df27?relation_type=employee\n"})}),"\n",(0,s.jsx)(n.p,{children:"If the request is successful, the person is linked to the organization. The\nperson should now be able to be found in the organization's list of associated\npeople or the organization should be found in the person's list of associated\norganizations."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET /organizations/{organization_id}"})," should show all the people linked to the organization via the ",(0,s.jsx)(n.code,{children:"associated_people"})," field."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET /people/{person_id}"})," should show all the organizations linked to the person via the ",(0,s.jsx)(n.code,{children:"associated_organizations"})," field."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-HTTP",children:"GET /organizations/8c35f400-171a-4928-8fa3-4c647497df27\nGET /people/123e4567-e89b-12d3-a456-426614174000\n"})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);